<div class="container mt-3">
    <div class="card">
        <!-- Button trigger modal -->
        <div class="btns d-flex justify-content-between align-items-center me-5 py-2">
            <button type="button" class="btn addBtn col-2 m-2 py-2 " data-bs-toggle="modal"
                data-bs-target="#addProjectModal">
                Add Project
            </button>
            <span class="text-success fs-5 fw-bolder text-center"
                    *ngIf="message!=''  ">{{message}}</span>
        </div>
        <hr class="m-0" />
        <div class="card-body p-0">
            <table class="table  table-hover text-center m-0">
                <thead class="p-4" style="--bs-table-bg:var(--third);">
                    <tr >
                        <th>Project Id</th>
                        <th>Project Name</th>
                        <th>Start Date</th>
                        <th>Duration (months)</th>
                        <th>Client Id</th>
                        <th>Operations</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let project of projects" >
                        <td>{{project.id}}</td>
                        <td>{{project.projectName}}</td>
                        <td>{{project.startDate}}</td>
                        <td>{{project.duration}}</td>
                        <td>{{project.clientId}}</td>
                        <td class="d-flex flex-column gap-2 align-items-center">
                            <input type="button" value=" View " (click)="getOneProject(project.id)"
                                class="btn btn-info me-2" />
                            <input type="button" value="Delete" (click)="deleteOneProject(project.id)"
                                class="btn btn-danger" />
                        </td>
                    </tr>
                </tbody>
            </table>



            <!-- Modal to add the user content -->
            <div class="modal fade" id="addProjectModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content addModal">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5" id="exampleModalLabel">Add Project</h1>
                            <button type="button" class="btn-close bg-light" data-bs-dismiss="modal"
                                aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <form #loginForm="ngForm" (ngSubmit)="addProjectData()">
                                <div class="mb-4">
                                    <label for="projectId" class="mb-1">Id:</label>
                                        <input type="number" id="projectId" [(ngModel)]="project.id" #pId="ngModel"
                                            name="projectId" class="form-control" placeholder="Enter project id"
                                            required />
                                        <span class="error" *ngIf="pId.invalid && pId.touched">Project Id cannot
                                            be empty</span>
                                </div>
                                <div class="mb-4">
                                    <label for="projectName" class="mb-1">Project Name:</label>
                                    <input type="text" id="projectName" [(ngModel)]="project.projectName"
                                        #pName="ngModel" name="projectName" class="form-control"
                                        placeholder="Enter Project name" required />
                                    <span class="error" *ngIf="pName.invalid && pName.touched">Project name cannot
                                        be empty</span>
                                </div>
                                <div class="mb-4">
                                    <label for="startDate" class="mb-1">Start Date:</label>
                                    <input type="date" id="startDate" [(ngModel)]="project.startDate"
                                        #pDate="ngModel" name="startDate" class="form-control" required />
                                    <span class="error" *ngIf="pDate.invalid && pDate.touched">Project start date cannot
                                        be
                                        empty</span>
                                </div>
                                <div class="mb-4">
                                    <label for="duration" class="mb-1">Duration (months):</label>
                                    <input type="number" id="duration" [(ngModel)]="project.duration"
                                        #pDuration="ngModel" name="duration" class="form-control" required />
                                    <span class="error" *ngIf="pDuration.invalid && pDuration.touched">Project duration
                                        cannot be
                                        empty</span>
                                </div>
                                <div class="mb-4">
                                    <label for="clientId" class="mb-1">Client Id:</label>
                                    <select id="clientId" class="form-control" name="clientId"
                                        [(ngModel)]="project.clientId" #pClientId="ngModel" required>
                                        <option value="" disabled>Select an option</option>
                                        <option value="{{client.id}}" *ngFor="let client of clients">{{client.id}}</option>
                                    </select>
                                    <span class="error" *ngIf="pClientId.invalid && pClientId.touched">Client Id cannot
                                        be empty</span>
                                </div>
                                <div class="d-flex gap-3 modal-footer">
                                    <input type="submit" value="Add Project" class="btn btn-success"
                                        [disabled]="loginForm.invalid" data-bs-dismiss="modal" />
                                    <input type="button" value="Close" class="btn btn-danger" data-bs-dismiss="modal" />
                                </div>
                            </form>
                        </div>
                    </div>
                </div>



            </div>
        </div>
    </div>
</div>